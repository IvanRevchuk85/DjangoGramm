{% load static %}
<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}DjangoGramm{% endblock %}</title>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π Bootstrap -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

    <style>
        /* –§–∏–∫—Å–∏—Ä—É–µ–º header —Å–≤–µ—Ä—Ö—É */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: #212529;
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
            padding: 3px 0; /* –°–¥–µ–ª–∞–ª –º–µ–Ω—å—à–µ */
        }

        /* –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É –Ω–∞–≤–±–∞—Ä–∞ */
        .navbar {
            min-height: 40px; /* –ë—ã–ª–æ –±–æ–ª—å—à–µ, —Ç–µ–ø–µ—Ä—å –∫–æ–º–ø–∞–∫—Ç–Ω–æ */
            padding: 0;
        }

        /* –§–∏–∫—Å–∏—Ä—É–µ–º footer –≤–Ω–∏–∑—É */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #212529;
            color: white;
            padding: 8px; /* –°–¥–µ–ª–∞–ª –º–µ–Ω—å—à–µ */
            text-align: center;
            z-index: 1000;
        }

        /* –î–µ–ª–∞–µ–º –æ—Ç—Å—Ç—É–ø –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        main {
            padding-top: 50px;  /* –ß—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª—Å—è —Ö–µ–¥–µ—Ä–æ–º */
            padding-bottom: 50px; /* –ß—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª —Ñ—É—Ç–µ—Ä */
        }
    </style>
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
</head>

<body class="bg-light">

    <!-- CSRF-—Ç–æ–∫–µ–Ω –¥–ª—è AJAX -->
    <input type="hidden" id="csrf-token" value="{{ csrf_token }}">

    <header class="container-fluid py-1"> <!-- –ë—ã–ª py-2, —Å–¥–µ–ª–∞–ª py-1 -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container d-flex justify-content-between">
                <a class="navbar-brand" href="{% url 'posts:post_list' %}">üì∏ DjangoGramm</a>
                <div class="d-flex">
                    {% if user.is_authenticated %}
                        <a class="nav-link text-white me-2" href="{% url 'users:profile' %}">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
                        <form action="{% url 'users:logout' %}" method="post" style="display: inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger btn-sm">üö™ –í—ã–π—Ç–∏</button>
                        </form>
                    {% else %}
                        <a class="btn btn-primary btn-sm text-white me-2" href="{% url 'users:login' %}">üîë –í–æ–π—Ç–∏</a>
                        <a class="btn btn-success btn-sm text-white" href="{% url 'users:register' %}">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                    {% endif %}
                </div>
            </div>
        </nav>
    </header>

    <main class="container mt-4">
        {% block content %}{% endblock %}
    </main>

    <footer class="text-center bg-dark text-white py-2">
        <p>¬© 2025 DjangoGramm | –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è</p>
    </footer>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Bootstrap -->
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Webpack-—Å–æ–±—Ä–∞–Ω–Ω—ã–π bundle.js -->
    <script src="{% static 'frontend/bundle.js' %}"></script>

</body>
</html>
